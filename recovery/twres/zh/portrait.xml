<?xml version="1.0"?>

<recovery>
	<styles>
		<style name="buttontext">
			<highlight color="%highlight_color%" />
			<font resource="font" color="%button_text_color%" />
		</style>

		<style name="button">
			<style name="buttontext" />
			<image resource="main_button" />
		</style>

		<style name="mediumbutton">
			<style name="buttontext" />
			<image resource="medium_button" />
		</style>

		<style name="fillbutton">
			<style name="buttontext" />
			<fill color="%button_fill_color%" />
		</style>

		<style name="activelanguage">
			<style name="fillbutton" />
			<font resource="font" color="%activelanguage_color%" />
		</style>

		<style name="activesystembutton">
			<style name="fillbutton" />
			<font resource="font" color="%activesystem_color%" />
		</style>

		<style name="rebootsystem">
			<condition var1="tw_reboot_system" var2="1" />
			<style name="button" />
			<text>重启到 系统 %property.dualboot.system%</text>
			<actions>
				<action function="set">tw_back=main2</action>
				<action function="set">tw_action=reboot</action>
				<action function="set">tw_action_param=system</action>
				<action function="set">tw_has_action2=0</action>
				<action function="set">tw_text1=操作系统未安装!</action>
				<action function="set">tw_text2=您确认要重启吗?</action>
				<action function="set">tw_text3=</action>
				<action function="set">tw_text4=</action>
				<action function="set">tw_action_text1=重启中...</action>
				<action function="set">tw_action_text2=</action>
				<action function="set">tw_complete_text1=重启中...</action>
				<action function="set">tw_slider_text=滑动按钮执行重启</action>
				<action function="page">rebootcheck</action>
			</actions>
		</style>

		<style name="scrolllist">
			<highlight color="%fileselector_highlight_color%" />
			<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
			<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
			<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
			<background color="%fileselector_background%" />
			<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
		</style>

		<style name="fileselector">
			<style name="scrolllist" />
			<icon folder="folder_icon" file="file_icon" />
			<sort name="tw_gui_sort_order" />
		</style>

		<style name="partitionlist">
			<style name="scrolllist" />
			<icon selected="checkbox_true" unselected="checkbox_false" />
		</style>

		<style name="text">
			<font resource="font" color="%text_color%" />
		</style>

		<style name="checkbox">
			<font resource="font" color="%text_color%" />
			<image checked="checkbox_true" unchecked="checkbox_false" />
		</style>

		<style name="slider">
			<text>滑动按钮确认操作</text>
			<font resource="font" color="%text_color%" />
			<placement x="%center_x%" y="%slider_y%" placement="5" />
			<resource base="slider" used="slider-used" touch="slider-touch" />
		</style>

		<style name="console">
			<color foreground="%console_foreground%" background="%console_background%" scroll="%console_scroll%" />
			<font resource="fixed" />
			<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
		</style>

		<style name="input">
			<background color="%input_background_color%" />
			<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
			<font resource="font" color="%text_color%" />
		</style>

		<style name="slidervalue">
			<font resource="font" color="%text_color%" />
			<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
			<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
		</style>
	</styles>

	<pages>
		<page name="main">
			<object type="action">
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="main2">
			<object type="template" name="header" />

			<object type="action">
				<condition var1="language_selected" op="!=" var2="1" />
				<actions>
					<action function="overlay"></action>
					<action function="overlay">languageselect</action>
				</actions>
			</object>

			<object type="action">
				<action function="set">property.user.language=zh</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row1_y%" />
				<text>安装卡刷包</text>
				<actions>
					<action function="queueclear"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row1_y%" />
				<text>清除数据</text>
				<action function="page">wipe</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_y%" />
				<text>备份分区</text>
				<action function="page">backup</action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row2_y%" />
				<text>还原分区</text>
				<action function="page">restore</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row3_y%" />
				<text>挂载分区</text>
				<action function="page">mount</action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row3_y%" />
				<text>设置</text>
				<action function="page">settings</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row4_y%" />
				<text>高级选项</text>
				<action function="page">advanced</action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row4_y%" />
				<text>重启菜单</text>
				<action function="page">reboot</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="install">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>选择要刷入的卡刷包</text>
			</object>

			<object type="button" style="fillbutton">
				<placement x="%col1_x%" y="%row1_text_y%" w="%button_fill_full_width%" h="%button_fill_quarter_height%" />
				<text>存储器: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<actions>
					<action function="set">tw_back=install</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row3_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<text>%tw_zip_location%</text>
				<filter extn=".zip" folders="1" files="1" />
				<path name="tw_zip_location" default="/sdcard" />
				<data name="tw_filename" />
				<selection name="tw_file" />
			</object>

			<object type="template" name="sort_options" />

			<object type="button" style="mediumbutton">
				<placement x="%filemanager_select_x%" y="%filemanager_select_y%" />
				<text>镜像文件...</text>
				<actions>
					<action function="page">install_image</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_filename" op="modified" />
				<actions>
					<action function="queuezip"></action>
					<action function="page">flash_confirm</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="flash_confirm">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>此操作可能会刷入不兼容的ROM,</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>使您的设备无法使用。</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>文件夹:</text>
			</object>

			<object type="text">
				<font resource="mediumfont" color="%text_color%"/>
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>%tw_zip_location%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<text>将要刷的文件:</text>
			</object>

			<object type="text">
				<font resource="mediumfont" color="%text_color%"/>
				<placement x="%center_x%" y="%row6_text_y%" placement="5" />
				<text>%tw_file%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row7_text_y%" placement="5" />
				<text>按返回键取消添加这个卡刷包</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row8_text_y%" />
				<text>卡刷包文件签名校验。</text>
				<data variable="tw_signed_zip_verify" />
			</object>

			<object type="checkbox">
				<condition var1="tw_has_injecttwrp" var2="1" />
				<placement x="%col1_x%" y="%row10_text_y%" />
				<text>安装后重新注入 TWRP。</text>
				<data variable="tw_inject_after_zip" />
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row11_text_y%" placement="5" />
				<text>最多10个文件，第%tw_zip_queue_count%个</text>
			</object>

			<object type="slider">
				<text>滑动按钮确认刷入</text>
				<action function="flash">flash_zip</action>
			</object>

			<object type="button">
				<condition var1="tw_zip_queue_count" op="!=" var2="10"></condition>
				<placement x="%col1_x%" y="%row_queue_y%" />
				<text>添加更多卡刷包</text>
				<action function="page">install</action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row_queue_y%" />
				<text>清除卡刷包队列</text>
				<actions>
					<action function="queueclear"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="cancelzip"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="flash_zip">
			<object type="template" name="header" />

			<object type="console">
				<placement x="%console_x%" y="%row1_y%" w="%console_width%" h="%console_install_height%" />
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row17_text_y%" placement="5" />
				<text>正在刷入文件 %tw_zip_index%/%tw_zip_queue_count%</text>
			</object>

			<object type="text">
				<font resource="mediumfont" color="%text_color%"/>
				<placement x="%center_x%" y="%row18_text_y%" placement="5" />
				<text>%tw_filename%</text>
			</object>

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<action function="page">flash_done</action>
			</object>
		</page>

		<page name="flash_done">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>卡刷包安装完成</text>
			</object>

			<object type="console">
				<placement x="%console_x%" y="%row1_y%" w="%console_width%" h="%console_installdone_height%" />
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row4_y%" />
				<text>清除 cache/dalvik (缓存)</text>
				<actions>
					<action function="set">tw_back=flash_done</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=/cache</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=wipe</action>
					<action function="set">tw_action2_param=dalvik</action>
					<action function="set">tw_text1=清除 Cache 和 Dalvik?</action>
					<action function="set">tw_action_text1=清除 Cache 和 Dalvik 中...</action>
					<action function="set">tw_complete_text1=Cache 和 Dalvik 清除完成</action>
					<action function="set">tw_slider_text=滑动按钮开始清除</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<style name="rebootsystem" />
				<placement x="%col2_x%" y="%row4_y%" />
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row3_y%" />
				<text>返回主屏幕</text>
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="text">
				<condition var1="tw_operation_status" op="!=" var2="0" />
				<font resource="font" color="%text_fail_color%"/>
				<placement x="%center_x%" y="%zip_status_y%" placement="5" />
				<text>失败</text>
			</object>

			<object type="text">
				<condition var1="tw_operation_status" var2="0" />
				<font resource="font" color="%text_success_color%"/>
				<placement x="%center_x%" y="%zip_status_y%" placement="5" />
				<text>成功</text>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=install</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="install_image">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>选择要刷入的刷入镜像文件</text>
			</object>

			<object type="button" style="fillbutton">
				<placement x="%col1_x%" y="%row1_text_y%" w="%button_fill_full_width%" h="%button_fill_quarter_height%" />
				<text>存储器: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<actions>
					<action function="set">tw_back=install_image</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row3_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<text>%tw_zip_location%</text>
				<filter extn=".img" folders="1" files="1" />
				<path name="tw_zip_location" default="/sdcard" />
				<data name="tw_filename" />
				<selection name="tw_file" />
			</object>

			<object type="template" name="sort_options" />

			<object type="button" style="mediumbutton">
				<placement x="%filemanager_select_x%" y="%filemanager_select_y%" />
				<text>卡刷包...</text>
				<actions>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_filename" op="modified" />
				<action function="page">flashimage_confirm</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">install</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="flashimage_confirm">
			<object type="template" name="header" />

			<object type="partitionlist">
				<placement x="%listbox_x%" y="%row1_header_y%" w="%listbox_width%" h="%flash_list_height%" />
				<text>选择要刷入镜像的分区:</text>
				<icon selected="radio_true" unselected="radio_false" />
				<data name="tw_flash_partition" />
				<listtype name="flashimg" />
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row8_text_y%" placement="5" />
				<text>文件夹:</text>
			</object>

			<object type="text">
				<font resource="mediumfont" color="%text_color%"/>
				<placement x="%center_x%" y="%row9_text_y%" placement="5" />
				<text>%tw_zip_location%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row10_text_y%" placement="5" />
				<text>刷入的文件:</text>
			</object>

			<object type="text">
				<font resource="mediumfont" color="%text_color%"/>
				<placement x="%center_x%" y="%row11_text_y%" placement="5" />
				<text>%tw_file%</text>
			</object>

			<object type="slider">
				<text>滑动按钮确认刷入</text>
				<actions>
					<action function="set">tw_back=flashimage_confirm</action>
					<action function="set">tw_action=flashimage</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=正在刷入镜像文件...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=镜像文件已刷入</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=install_image</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="clear_vars">
			<object type="action">
				<action function="set">tw_operation_state=0</action>
				<action function="set">tw_text1=</action>
				<action function="set">tw_text2=</action>
				<action function="set">tw_text3=</action>
				<action function="set">tw_text4=</action>
				<action function="set">tw_action_text1=</action>
				<action function="set">tw_action_text2=</action>
				<action function="set">tw_action_param=</action>
				<action function="set">tw_has_action2=0</action>
				<action function="set">tw_action2=</action>
				<action function="set">tw_action2_param=</action>
				<action function="set">tw_has_cancel=0</action>
				<action function="set">tw_cancel_action=</action>
				<action function="set">tw_cancel_param=</action>
				<action function="set">tw_show_exclamation=0</action>
				<action function="set">tw_show_reboot=0</action>
				<action function="page">%tw_clear_destination%</action>
			</object>
		</page>

		<page name="confirm_action">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_text1%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>%tw_text2%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>%tw_text3%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>%tw_text4%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row15_text_y%" placement="5" />
				<text>按返回按钮取消操作。</text>
			</object>

			<object type="slider">
				<text>%tw_slider_text%</text>
				<action function="page">action_page</action>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="action_page">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_action_text1%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>%tw_action_text2%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="button" style="mediumbutton">
				<condition var1="tw_has_cancel" var2="1" />
				<placement x="%col_center_medium_x%" y="%row4_y%" />
				<text>退出</text>
				<action function="%tw_cancel_action%">%tw_cancel_param%</action>
			</object>

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="0" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="1" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
					<action function="%tw_action2%">%tw_action2_param%</action>
				</actions>
			</object>
		</page>

		<page name="singleaction_page">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_action_text1%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>%tw_action_text2%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="set">tw_page_done=1</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="0" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="1" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
					<action function="%tw_action2%">%tw_action2_param%</action>
				</actions>
			</object>
		</page>

		<page name="action_complete">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_complete_text1%</text>
			</object>

			<object type="text">
				<condition var1="tw_operation_status" op="!=" var2="0" />
				<font resource="font" color="%text_fail_color%"/>
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>退出</text>
			</object>

			<object type="text">
				<condition var1="tw_operation_status" var2="0" />
				<font resource="font"  color="%text_success_color%"/>
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>成功</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="button">
				<condition var1="tw_show_reboot" var2="0" />
				<placement x="%col_center_x%" y="%row4_y%" />
				<text>返回</text>
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="button" style="rebootsystem">
				<condition var1="tw_show_reboot" var2="1" />
				<placement x="%col_center_x%" y="%row4_y%" />
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="filecheck">
			<object type="action">
				<action function="fileexists">%tw_filecheck%</action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_fileexists=1</action>
					<action function="page">%tw_existpage%</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="1" />
				</conditions>
				<actions>
					<action function="set">tw_fileexists=0</action>
					<action function="page">%tw_notexistpage%</action>
				</actions>
			</object>
		</page>

		<page name="rebootcheck">
			<object type="action">
				<condition var1="property.ro.tw_has_dualboot" var2="1" />
				<action function="page">installpatch</action>
			</object>

			<object type="action">
				<condition var1="property.ro.tw_has_dualboot" op="!=" var2="1" />
				<action function="page">rebootcheck2</action>
			</object>
		</page>

		<page name="installpatch">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>正在安装双系统/双数据补丁 ...</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<action function="page">rebootcheck2</action>
			</object>

			<object type="action">
				<action function="cmd">/sbin/dualboot -l installpatch</action>
			</object>
		</page>

		<page name="rebootcheck2">
			<object type="action">
				<condition var1="tw_backup_system_size" op="&gt;=" var2="%tw_min_system%" />
				<action function="reboot">%tw_action_param%</action>
			</object>

			<object type="action">
				<condition var1="tw_backup_system_size" op="&lt;" var2="%tw_min_system%" />
				<action function="page">confirm_action</action>
			</object>
		</page>

		<page name="wipe">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>恢复出厂设置</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>清除 Data 分区, Cache 分区和 Dalvik 缓存</text>
			</object>

			<object type="text">
				<condition var1="tw_has_data_media" var2="1" />
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>(不会包含内置存储卡)</text>
			</object>

			<object type="text">
				<conditions>
					<condition var1="tw_has_android_secure" var2="1" />
					<condition var1="fileexists" var2="/and-sec" />
				</conditions>
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>Android Secure</text>
			</object>

			<object type="text">
				<condition var1="tw_has_sdext_partition" var2="1" />
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<text>SD-EXT</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row6_text_y%" placement="5" />
				<text>大多数时候你只需要</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row7_text_y%" placement="5" />
				<text>进行此清除操作即可。</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row16_text_y%" placement="5" />
				<text>按返回按钮退出。</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%wipe_button_y%" />
				<text>高级清除菜单</text>
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="page">advancedwipe</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_has_data_media" var2="1" />
				<placement x="%col2_x%" y="%wipe_button_y%" />
				<text>格式化 Data 分区</text>
				<actions>
					<action function="page">formatdata</action>
				</actions>
			</object>

			<object type="button">
				<conditions>
					<condition var1="tw_is_encrypted" var2="1" />
					<condition var1="tw_has_data_media" var2="0" />
				</conditions>
				<placement x="%col2_x%" y="%wipe_button_y%" />
				<text>擦除加密设置</text>
				<actions>
					<action function="set">tw_back=wipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=DATAMEDIA</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=从 Data 分区清除加密设置吗?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=擦除加密设置中...</action>
					<action function="set">tw_complete_text1=擦除完成</action>
					<action function="set">tw_slider_text=滑动按钮擦除加密设置</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="slider">
				<text>滑动按钮恢复出厂设置</text>
				<actions>
					<action function="set">tw_back=wipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=data</action>
					<action function="set">tw_action_text1=正在恢复出厂设置...</action>
					<action function="set">tw_complete_text1=恢复出厂设置完成</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="advancedwipe">
			<object type="template" name="header" />

			<object type="action">
				<action function="set">tw_wipe_list=</action>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>擦除菜单</text>
			</object>

			<object type="partitionlist">
				<placement x="%listbox_x%" y="%row1_header_y%" w="%listbox_width%" h="%wipe_list_height%" />
				<text>选择要清除的分区:</text>
				<data name="tw_wipe_list" />
				<listtype name="wipe" />
			</object>

			<object type="slider">
				<text>滑动按钮开始清除</text>
				<actions>
					<action function="set">tw_back=advancedwipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=LIST</action>
					<action function="set">tw_text1=确认清除已选分区?</action>
					<action function="set">tw_action_text1=正在清除分区...</action>
					<action function="set">tw_complete_text1=清除完成</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="button" style="fillbutton">
				<placement x="%col1_x%" y="%wipe_button_row1%" w="%button_fill_full_width%" h="%button_fill_half_height%" />
				<text>修复或转换文件系统</text>
				<actions>
					<action function="checkpartitionlist"></action>
					<action function="page">checkpartitionlist</action>
				</actions>
			</object>

			<object type="text">
				<font resource="font" color="%text_fail_color%"/>
				<condition var1="partitionlisterror" var2="1" />
				<placement x="%center_x%" y="%wipe_button_row1%" placement="5" />
				<text>分区选择无效</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">wipe</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="formatdata">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>格式化 Data 分区将擦除您安装的所有软件,</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>备份，图片，视频，媒体文件，以及</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>以及内置存储上的加密设置等。</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>此操作无法恢复. 点返回按钮可取消操作。</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>输入 yes 继续。</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row6_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_confirm_formatdata%</text>
				<data name="tw_confirm_formatdata" />
				<restrict minlen="3" maxlen="3" allow="yes" />
				<action function="page">formatdata_confirm</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">wipe</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="formatdata_confirm">
			<object type="action">
				<condition var1="tw_confirm_formatdata" op="=" var2="yes" />
				<actions>
					<action function="set">tw_back=formatdata</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=DATAMEDIA</action>
					<action function="set">tw_action_text1=正在格式化 Data 分区...</action>
					<action function="set">tw_complete_text1=Data 分区格式化完成</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_confirm_formatdata" op="!=" var2="yes" />
				<action function="page">formatdata</action>
			</object>
		</page>

		<page name="checkpartitionlist">
			<object type="action">
				<condition var1="tw_check_partition_list" op="=" var2="1" />
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="getpartitiondetails"></action>
					<action function="page">partitionoptions</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_check_partition_list" op="!=" var2="1" />
				<actions>
					<action function="set">partitionlisterror=1</action>
					<action function="set">tw_wipe_list=</action>
					<action function="page">advancedwipe</action>
				</actions>
			</object>
		</page>

		<page name="partitionoptions">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>分区名: %tw_partition_name%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>挂载点: %tw_partition_mount_point%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>当前文件系统: %tw_partition_file_system%</text>
			</object>

			<object type="text">
				<condition var1="tw_partition_is_present" op="!=" var2="0" />
				<placement x="%col1_x%" y="%row3_text_y%" />
				<text>当前: 是</text>
			</object>

			<object type="text">
				<condition var1="tw_partition_is_present" op="=" var2="0" />
				<placement x="%col1_x%" y="%row3_text_y%" />
				<text>当前: 否</text>
			</object>

			<object type="text">
				<condition var1="tw_partition_removable" op="!=" var2="0" />
				<placement x="%col2_x%" y="%row3_text_y%" />
				<text>可移动: 是</text>
			</object>

			<object type="text">
				<condition var1="tw_partition_removable" op="=" var2="0" />
				<placement x="%col2_x%" y="%row3_text_y%" />
				<text>可移动: 否</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row4_text_y%" />
				<text>总容量: %tw_partition_size%MB</text>
			</object>

			<object type="text">
				<placement x="%col2_x%" y="%row4_text_y%" />
				<text>已使用: %tw_partition_used%MB</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row5_text_y%" />
				<text>剩余容量: %tw_partition_free%MB</text>
			</object>

			<object type="text">
				<placement x="%col2_x%" y="%row5_text_y%" />
				<text>备份大小: %tw_partition_backup_size%MB</text>
			</object>

			<object type="button">
				<condition var1="tw_partition_can_resize" op="=" var2="1" />
				<placement x="%col1_x%" y="%row3_y%" />
				<text>调整大小</text>
				<actions>
					<action function="set">tw_back=partitionoptions</action>
					<action function="set">tw_action=resize</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=getpartitiondetails</action>
					<action function="set">tw_text1=调整 %tw_partition_name% 分区的大小?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=调整大小中...</action>
					<action function="set">tw_complete_text1=调整完毕</action>
					<action function="set">tw_slider_text=滑动按钮开始调整</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_partition_can_repair" op="=" var2="1" />
				<placement x="%col1_x%" y="%row4_y%" />
				<text>修复</text>
				<actions>
					<action function="set">tw_back=partitionoptions</action>
					<action function="set">tw_action=repair</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=修复 %tw_partition_name%?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=修复中...</action>
					<action function="set">tw_complete_text1=修复完成</action>
					<action function="set">tw_slider_text=滑动按钮开始修复</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row4_y%" />
				<text>转换文件系统</text>
				<action function="page">selectfilesystem</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advancedwipe</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="refreshfilesystem">
			<object type="action">
				<condition var1="tw_check_partition_list" op="=" var2="1" />
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="getpartitiondetails"></action>
					<action function="page">selectfilesystem</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_check_partition_list" op="!=" var2="1" />
				<actions>
					<action function="set">partitionlisterror=1</action>
					<action function="set">tw_wipe_list=</action>
					<action function="page">advancedwipe</action>
				</actions>
			</object>
		</page>

		<page name="selectfilesystem">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>转换文件系统: %tw_partition_name%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>挂载点: %tw_partition_mount_point%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>当前文件系统: %tw_partition_file_system%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>一些 ROM 或者内核可能某些</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>文件系统。请谨慎操作!</text>
			</object>

			<object type="button">
				<condition var1="tw_partition_ext" op="=" var2="1" />
				<placement x="%col1_x%" y="%row2_y%" />
				<text>EXT2</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext2</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=转换 %tw_partition_name% 到EXT2?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=格式化中...</action>
					<action function="set">tw_complete_text1=格式化完成</action>
					<action function="set">tw_slider_text=滑动按钮开始转换</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_partition_ext" op="=" var2="1" />
				<placement x="%col2_x%" y="%row2_y%" />
				<text>EXT3</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext3</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=转换 %tw_partition_name% 到 EXT3?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=格式化中...</action>
					<action function="set">tw_complete_text1=转换完成</action>
					<action function="set">tw_slider_text=滑动按钮开始转换</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_partition_ext" op="=" var2="1" />
				<placement x="%col1_x%" y="%row3_y%" />
				<text>EXT4</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext4</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=转换 %tw_partition_name% 到 EXT4?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=格式化中...</action>
					<action function="set">tw_complete_text1= 格式化完成</action>
					<action function="set">tw_slider_text=滑动按钮开始转换</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_partition_f2fs" op="=" var2="1" />
				<placement x="%col2_x%" y="%row3_y%" />
				<text>F2FS</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=f2fs</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=转换 %tw_partition_name% 到 F2FS?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=格式化中...</action>
					<action function="set">tw_complete_text1=格式化完成</action>
					<action function="set">tw_slider_text=滑动按钮开始转换</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_partition_vfat" op="=" var2="1" />
				<placement x="%col1_x%" y="%row4_y%" />
				<text>FAT</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=vfat</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=转换 %tw_partition_name% 到 FAT?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=格式化中...</action>
					<action function="set">tw_complete_text1=格式化完成</action>
					<action function="set">tw_slider_text=滑动按钮开始转换</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_partition_exfat" op="=" var2="1" />
				<placement x="%col2_x%" y="%row4_y%" />
				<text>exFAT</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=exfat</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=转换 %tw_partition_name% 到 exFAT?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=格式化中...</action>
					<action function="set">tw_complete_text1=格式化完成</action>
					<action function="set">tw_slider_text=滑动按钮开始转换</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">partitionoptions</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="backup">
			<object type="template" name="header" />

			<object type="button" style="fillbutton">
				<placement x="%col1_x%" y="%row1_header_y%" w="%button_fill_full_width%" h="%button_fill_quarter_height%" />
				<text>备份名称: %tw_backup_name%</text>
				<actions>
					<action function="set">tw_fileexists=0</action>
					<action function="page">backupname1</action>
				</actions>
			</object>

			<object type="partitionlist">
				<placement x="%listbox_x%" y="%row2_text_y%" w="%listbox_width%" h="%backup_list_height%" />
				<text>选择要备份的分区:</text>
				<data name="tw_backup_list" />
				<listtype name="backup" />
			</object>

			<object type="button" style="fillbutton">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1" />
					<condition var1="tw_encrypt_backup" var2="0" />
				</conditions>
				<placement x="%col1_x%" y="%backup_button_row1%" w="%button_fill_main_width%" h="%button_fill_quarter_height%" />
				<text>无加密选项</text>
				<actions>
					<action function="page">backupencryption</action>
				</actions>
			</object>

			<object type="button" style="fillbutton">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1" />
					<condition var1="tw_encrypt_backup" var2="1" />
				</conditions>
				<placement x="%col1_x%" y="%backup_button_row1%" w="%button_fill_main_width%" h="%button_fill_quarter_height%" />
				<text>使用加密选项</text>
				<actions>
					<action function="set">tw_password_not_match=0</action>
					<action function="page">backupencryption</action>
				</actions>
			</object>

			<object type="button" style="fillbutton">
				<placement x="%col2_x%" y="%backup_button_row1%" w="%button_fill_main_width%" h="%button_fill_quarter_height%" />
				<text>刷新分区大小</text>
				<actions>
					<action function="refreshsizes"></action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="button" style="fillbutton">
				<placement x="%col1_x%" y="%backup_button_row2%" w="%button_fill_full_width%" h="%button_fill_quarter_height%" />
				<text>存储: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<actions>
					<action function="set">tw_back=backup</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row15_text_y%" />
				<text>启用压缩。</text>
				<data variable="tw_use_compression" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row16_text_y%" />
				<text>备份时跳过生成 MD5。</text>
				<data variable="tw_skip_md5_generate" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>禁用剩余空间检测。</text>
				<data variable="tw_disable_free_space" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slider">
				<text>滑动按钮开始备份</text>
				<action function="page">backup_run</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="backupname1">
			<object type="action">
				<condition var1="tw_backup_name" op="=" var2="(Auto Generate)" />
				<action function="generatebackupname"></action>
			</object>

			<object type="action">
				<action function="page">backupname2</action>
			</object>
		</page>

		<page name="backupname2">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>输入备份文件的名字</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_backup_name%</text>
				<data name="tw_backup_name" />
				<restrict minlen="1" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_.{}[]" />
				<actions>
					<action function="set">tw_filecheck=%tw_backups_folder%/%tw_backup_name%</action>
					<action function="set">tw_existpage=backupname2</action>
					<action function="set">tw_notexistpage=backup</action>
					<action function="page">filecheck</action>
				</actions>
			</object>

			<object type="text">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<font resource="font" color="%text_fail_color%"/>
				<text>文件名重复!</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_y%" />
				<text>文件名附加当前日期</text>
				<action function="appenddatetobackupname"></action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row2_y%" />
				<text>取消</text>
				<actions>
					<action function="set">tw_backup_name=(Auto Generate)</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_backup_name=(Auto Generate)</action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_backup_name=(Auto Generate)</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="backupencryption">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>是否加密备份文件?</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>输入备份文件密码:</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_backup_encrypt_display%</text>
				<data name="tw_backup_password" mask="*" maskvariable="tw_backup_encrypt_display" />
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_" />
				<action function="page">backupencryption2</action>
			</object>

			<object type="text">
				<condition var1="tw_password_not_match" var2="1" />
				<font resource="font" color="%text_fail_color%"/>
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>密码不匹配</text>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row2_y%" />
				<text>取消</text>
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">backup</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="backupencryption2">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>是否加密备份文件?</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>再次输入密码:</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_backup_encrypt_display2%</text>
				<data name="tw_backup_password2" mask="*" maskvariable="tw_backup_encrypt_display2" />
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_" />
				<actions>
					<action function="page">checkbackuppassword</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row2_y%" />
				<text>取消</text>
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">backup</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="checkbackuppassword">
			<object type="action">
				<condition var1="tw_backup_password2" var2="tw_backup_password" />
				<actions>
					<action function="set">tw_encrypt_backup=1</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_backup_password2" op="!=" var2="tw_backup_password" />
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_password_not_match=1</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">backupencryption</action>
				</actions>
			</object>
		</page>

		<page name="backup_run">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_operation% %tw_partition%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>%tw_file_progress%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>%tw_size_progress%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="button" style="mediumbutton">
				<placement x="%col_center_medium_x%" y="%row4_y%" />
				<text>取消</text>
				<actions>
					<action function="cancelbackup"></action>
				</actions>
			</object>

			<object type="template" name="progress_bar" />

			<object type="action">
				<action function="nandroid">backup</action>
			</object>

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<condition var1="tw_cancel_backup" var2="0" />
				<actions>
					<action function="set">tw_back=backup</action>
					<action function="set">tw_complete_text1=备份完成</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<condition var1="tw_cancel_backup" var2="1" />
				<actions>
					<action function="set">tw_back=backup</action>
					<action function="set">tw_complete_text1=Backup Cancelled</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</object>
		</page>

		<page name="restore">
			<object type="template" name="header" />

			<object type="button" style="fillbutton">
				<placement x="%col1_x%" y="%row1_header_y%" w="%button_fill_full_width%" h="%button_fill_quarter_height%" />
				<text>存储: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row2_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<text>选择要恢复的备份包:</text>
				<filter folders="1" files="0" nav="0" />
				<path name="tw_backups_folder" />
				<data name="tw_restore" default="" />
				<selection name="tw_restore_name" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="tw_restore" op="modified" />
				<actions>
					<action function="readBackup"></action>
					<action function="page">restore_read</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="restore_read">
			<object type="action">
				<condition var1="tw_restore_encrypted" var2="1" />
				<actions>
					<action function="set">tw_password_fail=0</action>
					<action function="page">restore_decrypt</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_restore_encrypted" var2="0" />
				<actions>
					<action function="page">restore_select</action>
				</actions>
			</object>
		</page>

		<page name="restore_decrypt">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>备份已加密</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>请输入备份密码:</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_restore_display%</text>
				<data name="tw_restore_password" mask="*" maskvariable="tw_restore_display" />
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_" />
				<actions>
					<action function="page">try_restore_decrypt</action>
				</actions>
			</object>

			<object type="text">
				<condition var1="tw_password_fail" var2="1" />
				<font resource="font" color="%text_fail_color%"/>
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>密码错误, 请重试</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_y%" />
				<text>取消</text>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">restore</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row2_y%" />
				<text>删除备份</text>
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; rm -rf &quot;%tw_restore_name%&quot;</action>
					<action function="set">tw_text1=是否删除备份文件? %tw_restore_name%</action>
					<action function="set">tw_text2=这将不可恢复!</action>
					<action function="set">tw_action_text1=删除备份中...</action>
					<action function="set">tw_complete_text1=删除备份成功</action>
					<action function="set">tw_slider_text=滑动按钮删除</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="try_restore_decrypt">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>正在验证您的密码</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<action function="decrypt_backup"></action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_password_fail=1</action>
					<action function="page">restore_decrypt</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">restore_select</action>
				</actions>
			</object>
		</page>

		<page name="restore_select">
			<object type="template" name="header" />

			<object type="partitionlist">
				<placement x="%listbox_x%" y="%row1_header_y%" w="%listbox_width%" h="%backup_list_height%" />
				<text>恢复中: %tw_restore_name%</text>
				<data name="tw_restore_list" selectedlist="tw_restore_selected" />
				<listtype name="restore" />
			</object>

			<object type="button" style="fillbutton">
				<placement x="%col1_x%" y="%backup_button_row1%" w="%button_fill_main_width%" h="%button_fill_quarter_height%" />
				<text>重命名备份文件</text>
				<actions>
					<action function="set">tw_backup_rename=</action>
					<action function="set">tw_fileexists=0</action>
					<action function="page">renamebackup</action>
				</actions>
			</object>

			<object type="button" style="fillbutton">
				<placement x="%col2_x%" y="%backup_button_row1%" w="%button_fill_main_width%" h="%button_fill_quarter_height%" />
				<text>删除备份文件</text>
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; rm -rf &quot;%tw_restore_name%&quot;</action>
					<action function="set">tw_text1=是否删除备份文件? %tw_restore_name%</action>
					<action function="set">tw_text2=这将不可恢复!</action>
					<action function="set">tw_action_text1=删除备份中...</action>
					<action function="set">tw_complete_text1=备份删除完成</action>
					<action function="set">tw_slider_text=滑动按钮删除</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row15_text_y%" />
				<text>打开备份文件的 MD5 验证。</text>
				<data variable="tw_skip_md5_check" />
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row16_text_y%" placement="5" />
				<text>备份包日期: %tw_restore_file_date%</text>
			</object>

			<object type="slider">
				<text>滑动按钮恢复分区</text>
				<action function="page">restore_run</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="renamebackup">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>请输入新备份文件名</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_backup_rename%</text>
				<data name="tw_backup_rename" />
				<restrict minlen="1" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_.{}[]" />
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; mv &quot;%tw_restore_name%&quot; &quot;%tw_backup_rename%&quot;</action>
					<action function="set">tw_text1=重命名备份文件?</action>
					<action function="set">tw_text2=这将不可恢复!</action>
					<action function="set">tw_action_text1=重命名备份中...</action>
					<action function="set">tw_complete_text1=重命名备份完成</action>
					<action function="set">tw_slider_text=滑动按钮重命名</action>
					<action function="set">tw_filecheck=%tw_backups_folder%/%tw_backup_rename%</action>
					<action function="set">tw_existpage=renamebackup</action>
					<action function="set">tw_notexistpage=confirm_action</action>
					<action function="page">filecheck</action>
				</actions>
			</object>

			<object type="text">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<font resource="font" color="%text_fail_color%"/>
				<text>文件名重复!</text>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row2_y%" />
				<text>取消</text>
				<action function="page">restore_select</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore_select</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="restore_run">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_operation% %tw_partition%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>%tw_size_progress%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="set">tw_back=restore_select</action>
					<action function="set">tw_complete_text1=恢复完成</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<action function="nandroid">restore</action>
			</object>
		</page>

		<page name="selectstorage">
			<object type="template" name="header" />

			<object type="partitionlist">
				<placement x="%listbox_x%" y="%row1_header_y%" w="%listbox_width%" h="%storage_list_height%" />
				<text>选择存储器:</text>
				<icon selected="radio_true" unselected="radio_false" />
				<data name="tw_storage_path" />
				<listtype name="storage" />
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row4_y%" />
				<text>确定</text>
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="page">%tw_back%</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="mount">
			<object type="template" name="header" />

			<object type="partitionlist">
				<placement x="%listbox_x%" y="%row1_header_y%" w="%listbox_width%" h="%mount_list_height%" />
				<text>选择要挂载的分区:</text>
				<listtype name="mount" />
			</object>

			<object type="button" style="fillbutton">
				<placement x="%col1_x%" y="%mount_storage_row%" w="%button_fill_full_width%" h="%button_fill_quarter_height%" />
				<text>存储器: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<actions>
					<action function="set">tw_back=mount</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_has_usb_storage" var2="1" />
				<placement x="%col1_x%" y="row4_y" />
				<text>挂载 USB 大容量存储器</text>
				<action function="page">usb_mount</action>
			</object>

			<object type="button">
				<conditions>
					<condition var1="tw_has_mtp" var2="1" />
					<condition var1="tw_mtp_enabled" var2="0" />
				</conditions>
				<placement x="%col2_x%" y="row4_y" />
				<text>挂载 MTP存储设备</text>
				<action function="startmtp"></action>
			</object>

			<object type="button">
				<conditions>
					<condition var1="tw_has_mtp" var2="1" />
					<condition var1="tw_mtp_enabled" var2="1" />
				</conditions>
				<placement x="%col2_x%" y="row4_y" />
				<text>卸载 MTP存储设备</text>
				<action function="stopmtp"></action>
			</object>

			<object type="button">
				<conditions>
					<condition var1="tw_is_encrypted" var2="1" />
					<condition var1="tw_is_decrypted" var2="0" />
				</conditions>
				<placement x="%col2_x%" y="row4_y" />
				<text>加密数据</text>
				<action function="page">decrypt</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%system_ro_y%" textplacement="6" />
				<font resource="font" color="%text_color%" />
				<condition var1="tw_mount_system_ro" op="=" var2="0" />
				<text>以只读模式挂载 System 分区</text>
				<image resource="checkbox_false" />
				<action function="mountsystemtoggle">1</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%system_ro_y%" textplacement="6" />
				<font resource="font" color="%text_color%" />
				<condition var1="tw_mount_system_ro" op="!=" var2="0" />
				<text>以只读模式挂载 System 分区</text>
				<image resource="checkbox_true" />
				<actions>
					<action function="set">tw_lifetime_writes=2</action>
					<action function="page">system_readonly_check</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="usb_mount">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>USB 大容量存储已挂载</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row1_text_y%" />
				<text>确保卸载前从您的电脑</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<text>上安全移除设备!</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row3_y%" />
				<text>卸载</text>
				<action function="page">usb_umount</action>
			</object>

			<object type="action">
				<action function="mount">usb</action>
				<action function="set">tw_busy=1</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="usb_umount">
			<object type="action">
				<action function="unmount">usb</action>
			</object>

			<object type="action">
				<action function="page">mount</action>
				<action function="set">tw_busy=0</action>
			</object>
		</page>

		<page name="system_readonly_check">
			<object type="action">
				<action function="checkpartitionlifetimewrites">/system</action>
			</object>

			<object type="action">
				<condition var1="tw_lifetime_writes" var2="1" />
				<actions>
					<action function="mountsystemtoggle">0</action>
					<action function="page">mount</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_lifetime_writes" var2="0" />
				<actions>
					<action function="set">tw_back=mount</action>
					<action function="page">system_readonly</action>
				</actions>
			</object>
		</page>

		<page name="reboot">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>重启菜单</text>
			</object>

			<object type="button" style="rebootsystem">
				<condition var1="tw_reboot_system" var2="1" />
				<placement x="%col1_x%" y="%row1_y%" />
				<text>系统 %property.dualboot.system%</text>
			</object>

			<object type="button">
				<condition var1="tw_reboot_poweroff" var2="1" />
				<placement x="%col2_x%" y="%row3_y%" />
				<text>关机</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=poweroff</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=未安装系统!</action>
					<action function="set">tw_text2=你确定想要关机么?</action>
					<action function="set">tw_action_text1=关机中...</action>
					<action function="set">tw_complete_text1=关机中...</action>
					<action function="set">tw_slider_text=滑动按钮开始关机</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_reboot_recovery" var2="1" />
				<placement x="%col1_x%" y="%row2_y%" />
				<text>Recovery</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=recovery</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=未安装系统!</action>
					<action function="set">tw_text2=你确定想要重启么?</action>
					<action function="set">tw_action_text1=重启中...</action>
					<action function="set">tw_complete_text1=重启中...</action>
					<action function="set">tw_slider_text=滑动按钮开始重启</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_reboot_bootloader" var2="1" />
				<placement x="%col2_x%" y="%row2_y%" />
				<text>Bootloader</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=bootloader</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=未安装系统!</action>
					<action function="set">tw_text2=你确定想要重启么?</action>
					<action function="set">tw_action_text1=重启中...</action>
					<action function="set">tw_complete_text1=重启中...</action>
					<action function="set">tw_slider_text=滑动按钮开始重启</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_download_mode" var2="1" />
				<placement x="%col1_x%" y="%row3_y%" />
				<text>下载模式</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=download</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=未安装系统!</action>
					<action function="set">tw_text2=你确定想要重启么?</action>
					<action function="set">tw_action_text1=重启中...</action>
					<action function="set">tw_complete_text1=重启中...</action>
					<action function="set">tw_slider_text=滑动按钮开始重启</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="property.ro.tw_has_dualboot" var2="1" />
				<placement x="%col2_x%" y="%row1_y%" />
				<text>切换系统</text>
				<action function="page">switchsystem</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="settings">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>系统设置</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row1_text_y%" />
				<text>卡刷包文件签名校验。</text>
				<data variable="tw_signed_zip_verify" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<text>使用删除命令 (rm -rf) 代替格式化。</text>
				<data variable="tw_rm_rf" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row3_text_y%" />
				<text>备份时忽略 MD5。</text>
				<data variable="tw_skip_md5_generate" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row4_text_y%" />
				<text>启用 MD5 校验所有备份文件。</text>
				<data variable="tw_skip_md5_check" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row5_text_y%" />
				<text>使用 24 小时制显示时间。</text>
				<data variable="tw_military_time" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row6_text_y%" />
				<text>主题测试时的模拟操作。</text>
				<data variable="tw_simulate_actions" />
			</object>

			<object type="checkbox">
				<condition var1="tw_simulate_actions" var2="1" />
				<placement x="%col1_x%" y="%row7_text_y%" />
				<text>模拟失败的操作。</text>
				<data variable="tw_simulate_fail" />
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row3_y%" />
				<text>设置时区</text>
				<action function="page">timezone</action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row3_y%" />
				<text>屏幕设置</text>
				<action function="page">screen</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row4_y%" />
				<text>恢复默认设置</text>
				<action function="restoredefaultsettings"></action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row4_y%" />
				<text>振动强度</text>
				<action function="page">Vibrate</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="timezone">
			<object type="template" name="header" />

			<object type="listbox" style="scrolllist">
				<placement x="%listbox_x%" y="%row1_header_y%" w="%listbox_width%" h="%listbox_tz_height%" />
				<text>选择时区:</text>
				<icon selected="radio_true" unselected="radio_false" />
				<data name="tw_time_zone_guisel" />
				<listitem name="(UTC -11) Samoa, Midway Island">BST11;BDT</listitem>
				<listitem name="(UTC -10) Hawaii">HST10;HDT</listitem>
				<listitem name="(UTC -9) Alaska">AST9;ADT</listitem>
				<listitem name="(UTC -8) Pacific Time">PST8;PDT,M3.2.0,M11.1.0</listitem>
				<listitem name="(UTC -7) Mountain Time">MST7;MDT,M3.2.0,M11.1.0</listitem>
				<listitem name="(UTC -6) Central Time">CST6;CDT,M3.2.0,M11.1.0</listitem>
				<listitem name="(UTC -5) Eastern Time">EST5;EDT,M3.2.0,M11.1.0</listitem>
				<listitem name="(UTC -4) Atlantic Time">AST4;ADT</listitem>
				<listitem name="(UTC -3) Brazil, Buenos Aires">GRNLNDST3;GRNLNDDT</listitem>
				<listitem name="(UTC -2) Mid-Atlantic">FALKST2;FALKDT</listitem>
				<listitem name="(UTC -1) Azores, Cape Verde">AZOREST1;AZOREDT</listitem>
				<listitem name="(UTC  0) London, Dublin, Lisbon">GMT0;BST,M3.5.0,M10.5.0</listitem>
				<listitem name="(UTC +1) Berlin, Brussels, Paris">CET-1;CEST,M3.5.0,M10.5.0</listitem>
				<listitem name="(UTC +2) Athens, Istanbul, South Africa">WET-2;WET,M3.5.0,M10.5.0</listitem>
				<listitem name="(UTC +3) Moscow, Baghdad">SAUST-3;SAUDT</listitem>
				<listitem name="(UTC +4) Abu Dhabi, Tbilisi, Muscat">WST-4;WDT</listitem>
				<listitem name="(UTC +5) Yekaterinburg, Islamabad">PAKST-5;PAKDT</listitem>
				<listitem name="(UTC +6) Almaty, Dhaka, Colombo">TASHST-6;TASHDT</listitem>
				<listitem name="(UTC +7) Bangkok, Hanoi, Jakarta">THAIST-7;THAIDT</listitem>
				<listitem name="(UTC +8) 北京, Singapore, 香港">TAIST-8;TAIDT</listitem>
				<listitem name="(UTC +9) Tokyo, Seoul, Yakutsk">JST-9;JSTDT</listitem>
				<listitem name="(UTC +10) Eastern Australia, Guam">EET-10;EETDT</listitem>
				<listitem name="(UTC +11) Vladivostok, Solomon Islands">MET-11;METDT</listitem>
				<listitem name="(UTC +12) Auckland, Wellington, Fiji">NZST-12;NZDT</listitem>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row_dst_text_y%" />
				<text>是否使用夏令时 (DST)?</text>
				<data variable="tw_time_zone_guidst" />
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row_offset_text_y%" placement="5" />
				<text>时间偏差(常用0): %tw_time_zone_guioffset%</text>
			</object>

			<object type="button" style="mediumbutton">
				<placement x="%col1_medium_x%" y="%row_offset_medium_y%" />
				<text>无</text>
				<action function="set">tw_time_zone_guioffset=0</action>
			</object>

			<object type="button" style="mediumbutton">
				<placement x="%col2_medium_x%" y="%row_offset_medium_y%" />
				<text>15 分</text>
				<action function="set">tw_time_zone_guioffset=15</action>
			</object>

			<object type="button" style="mediumbutton">
				<placement x="%col3_medium_x%" y="%row_offset_medium_y%" />
				<text>30 分</text>
				<action function="set">tw_time_zone_guioffset=30</action>
			</object>

			<object type="button" style="mediumbutton">
				<placement x="%col4_medium_x%" y="%row_offset_medium_y%" />
				<text>45 分</text>
				<action function="set">tw_time_zone_guioffset=45</action>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%tz_set_y%" />
				<text>设置时区</text>
				<action function="setguitimezone"></action>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%tz_current_y%" placement="5" />
				<text>当前时区: %tw_time_zone%</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="screen">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>屏幕设置</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_text_y%" textplacement="6" />
				<font resource="font" color="%text_color%" />
				<condition var1="tw_screen_timeout_secs" op="=" var2="0" />
				<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				<text>启用锁屏延时</text>
				<image resource="checkbox_false" />
				<action function="set">tw_screen_timeout_secs=60</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_text_y%" textplacement="6" />
				<font resource="font" color="%text_color%" />
				<condition var1="tw_screen_timeout_secs" op="!=" var2="0" />
				<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				<text>启用锁屏延时</text>
				<image resource="checkbox_true" />
				<action function="set">tw_screen_timeout_secs=0</action>
			</object>

			<object type="slidervalue">
				<conditions>
					<condition var1="tw_screen_timeout_secs" op="!=" var2="0" />
					<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				</conditions>
				<placement x="col1_x" y="%row4_text_y%" w="%slidervalue_w%" />
				<text>屏幕超时时间/秒:</text>
				<data variable="tw_screen_timeout_secs" min="15" max="300" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_has_brightnesss_file" var2="1" />
				<placement x="col1_x" y="%row12_text_y%" w="%slidervalue_w%" />
				<text>亮度: %tw_brightness_pct%%</text>
				<data variable="tw_brightness_pct" min="10" max="100" />
				<actions>
					<action function="set">tw_brightness=%tw_brightness_max%</action>
					<action function="compute">tw_brightness*%tw_brightness_pct%</action>
					<action function="compute">tw_brightness/100</action>
					<action function="setbrightness">%tw_brightness%</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="Vibrate">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>振动设置  :</text>
			</object>

			<object type="slidervalue">
				<placement x="col1_x" y="%row4_text_y%" w="%slidervalue_w%" />
				<text>按键振动强度:</text>
				<data variable="tw_button_vibrate" min="0" max="300" />
			</object>

			<object type="slidervalue">
				<placement x="col1_x" y="%row8_text_y%" w="%slidervalue_w%" />
				<text>键盘振动强度:</text>
				<data variable="tw_keyboard_vibrate" min="0" max="300" />
			</object>

			<object type="slidervalue">
				<placement x="col1_x" y="%row12_text_y%" w="%slidervalue_w%" />
				<text>操作振动强度:</text>
				<data variable="tw_action_vibrate" min="0" max="500" />
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="advanced">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>高级功能</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row1_y%" />
				<text>复制日志到SD卡</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=copylog</action>
					<action function="set">tw_text1=确定复制日志到 SD 卡?</action>
					<action function="set">tw_action_text1=复制日志到 SD 卡中...</action>
					<action function="set">tw_complete_text1=日志复制完成</action>
					<action function="set">tw_slider_text=滑动按钮确认操作</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row1_y%" />
				<text>修复权限</text>
				<action function="page">fixperms</action>
			</object>

			<object type="button">
				<condition var1="tw_allow_partition_sdcard" var2="1" />
				<placement x="%col1_x%" y="%row2_y%" />
				<text>SD 卡分区</text>
				<action function="page">partsdcardload</action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row2_y%" />
				<text>文件管理器</text>
				<action function="page">filemanagerlist</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row3_y%" />
				<text>终端命令行</text>
				<action function="page">terminalfolder</action>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row3_y%" />
				<text>重新载入主题</text>
				<action function="reload"></action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row4_y%" />
				<text>ADB Sideload 线刷模式</text>
				<action function="page">sideload</action>
			</object>

			<object type="button">
				<condition var1="tw_show_dumlock" var2="1" />
				<placement x="%col2_x%" y="%row4_y%" />
				<text>HTC Dumlock</text>
				<action function="page">htcdumlock</action>
			</object>

			<object type="button">
				<condition var1="tw_has_injecttwrp" var2="1" />
				<placement x="%col2_x%" y="%row4_y%" />
				<text>重新注入 TWRP</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=reinjecttwrp</action>
					<action function="set">tw_text1=重新注入 TWRP?</action>
					<action function="set">tw_action_text1=重新注入 TWRP 中...</action>
					<action function="set">tw_complete_text1=TWRP 注入完成</action>
					<action function="set">tw_slider_text=滑动按钮确认操作</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="property.ro.tw_has_dualboot" var2="1" />
				<placement x="%col2_x%" y="%row4_y%" />
				<text>切换系统</text>
				<action function="page">switchsystem</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="partsdcardload">
			<object type="action">
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=/sbin/repartition -l loadsize</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=page</action>
					<action function="set">tw_action2_param=partsdcard</action>
					<action function="set">tw_action_text1=正在载入分区及文件系统信息...</action>
					<action function="set">tw_action_text2=这个过程需要几秒钟.</action>
					<action function="set">tw_complete_text1=Partitioning Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>
		</page>

		<page name="partsdcard">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>SD 卡分区</text>
			</object>

			<!-- initialize -->
			<object type="action">
				<actions>
					<action function="set">repartition_data_size=%property.partition.data_size%</action>
					<action function="set">repartition_storage_size=%property.partition.datastorage_size%</action>
					<action function="compute">repartition_storage_size-%repartition_data_size%</action>
				</actions>
			</object>

			<!-- minus -->
			<object type="button">
				<placement x="%col1_x%" y="%row1_y%" />
				<text></text>
				<image resource="minus_button" />
				<actions>
					<action function="compute">repartition_data_size-128</action>
					<action function="set">repartition_storage_size=%property.partition.datastorage_size%</action>
					<action function="compute">repartition_storage_size-%repartition_data_size%</action>
				</actions>
			</object>

			<!-- plus -->
			<object type="button">
				<placement x="%sd_plus_x%" y="%row1_y%" placement="1" />
				<text></text>
				<image resource="plus_button" />
				<actions>
					<action function="compute">repartition_storage_size-128</action>
					<action function="set">repartition_data_size=%property.partition.datastorage_size%</action>
					<action function="compute">repartition_data_size-%repartition_storage_size%</action>
				</actions>
			</object>

			<object type="text">
				<placement x="%sdext_text_x%" y="%sdext_text_y%" />
				<text>Data 分区大小: %repartition_data_size%MiB</text>
			</object>

			<object type="text">
				<placement x="%sdswap_text_x%" y="%sdswap_text_y%" />
				<text>Storage(SD) 分区大小: %repartition_storage_size%MiB</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%sdfilesystem_button_y%" />
				<text>合并成一个</text>
				<actions>
					<action function="set">repartition_storage_size=0</action>
					<action function="set">repartition_data_size=%property.partition.datastorage_size%</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%sdfilesystem_button_y%" />
				<text>默认</text>
				<actions>
					<action function="set">repartition_data_size=3758</action>
					<action function="set">repartition_storage_size=%property.partition.datastorage_size%</action>
					<action function="compute">repartition_storage_size-%repartition_data_size%</action>
				</actions>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row12_text_y%" />
				<text>您将丢失 SD 卡上的所有文件!</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row13_text_y%" />
				<text>此操作将无法恢复!</text>
			</object>

			<object type="slider">
				<text>滑动按钮开始分区</text>
				<action function="page">partsdcardaction</action>
				<actions>
					<action function="set">tw_back=partsdcardload</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=/sbin/repartition -l resize %repartition_data_size%</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=分区SD卡...</action>
					<action function="set">tw_action_text2=这个过程需要几分钟。</action>
					<action function="set">tw_complete_text1=分区完成</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="htcdumlock">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>HTC Dumlock</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row1_y%" />
				<text>恢复初始内核分区</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=htcdumlockrestoreboot</action>
					<action function="set">tw_text1=恢复初始内核 boot 镜像?</action>
					<action function="set">tw_action_text1=恢复初始 Boot 中...</action>
					<action function="set">tw_complete_text1=恢复初始 Boot 完成</action>
					<action function="set">tw_slider_text=滑动按钮确认操作</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row1_y%" />
				<text>重刷 Recovery</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=htcdumlockreflashrecovery</action>
					<action function="set">tw_text1=重刷 recovery 到boot?</action>
					<action function="set">tw_action_text1=重刷 recovery 到 boot 中...</action>
					<action function="set">tw_complete_text1=重刷 recovery 到 boot 完成</action>
					<action function="set">tw_slider_text=滑动按钮确认操作</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_y%" />
				<text>安装 HTC Dumlock</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=installhtcdumlock</action>
					<action function="set">tw_text1=安装 HTC dumlock 文件到 ROM?</action>
					<action function="set">tw_action_text1=安装 HTC Dumlock 中...</action>
					<action function="set">tw_complete_text1=HTC Dumlock 安装完成</action>
					<action function="set">tw_slider_text=滑动按钮确认操作</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="switchsystem">
			<object type="template" name="header" />

			<object type="action">
				<condition var1="property.dualboot.system" op="!=" var2="2" />
				<actions>
					<action function="set">text_dualboot.system1=系统 1 (当前)</action>
					<action function="set">text_dualboot.system2=系统 2</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="property.dualboot.system" op="=" var2="2" />
				<actions>
					<action function="set">text_dualboot.system1=系统 1</action>
					<action function="set">text_dualboot.system2=系统 2 (当前)</action>
				</actions>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row1_text_y%" />
				<text>支持双系统引导。请点击按钮切换系统。</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<text>只有当前 "boot" 和 "system" 分区可被操作。</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row3_text_y%" />
				<text>如果分区表被更改 (使用 parted 或 fdisk 等),</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row4_text_y%" />
				<text>请重新点击当前系统。</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_y%" />
				<text>%text_dualboot.system1%</text>
				<actions>
					<action function="set">property.dualboot.system=1</action>
					<action function="set">tw_back=switchsystem</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=/sbin/dualboot -l save</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=正在切换到 System-1 ...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=系统切换完成</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row2_y%" />
				<text>%text_dualboot.system2%</text>
				<actions>
					<action function="set">property.dualboot.system=2</action>
					<action function="set">tw_back=switchsystem</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=/sbin/dualboot -l save</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=正在切换到 System-2 ...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=系统切换完成</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row12_text_y%" />
				<text>支持双系统数据共存。请使用开启和禁用的按钮。</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row13_text_y%" />
				<text>先开启双 Data 之前，请先切换到相应的系统。</text>
			</object>

			<object type="button">
				<condition var1="property.dualboot.dualdata" op="!=" var2="1" />
				<placement x="%col2_x%" y="%row4_y%" />
				<text>双 Data: 已禁用</text>
				<actions>
					<action function="set">tw_back=switchsystem</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=/sbin/dualboot -l enabledualdata</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=正在启用双 Data ...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=双 Data 启用完成</action>
					<action function="set">tw_slider_text=滑动按钮启用双 Data</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="property.dualboot.dualdata" op="=" var2="1" />
				<placement x="%col2_x%" y="%row4_y%" />
				<text>双 Data: 已启用</text>
				<actions>
					<action function="set">tw_back=switchsystem</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=/sbin/dualboot -l disabledualdata</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=正在禁用双 Data ...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=双 Data 禁用完成</action>
					<action function="set">tw_slider_text=滑动按钮禁用双 Data</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">reboot</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="lock">
			<background color="#000000A0" />

			<object type="image">
				<image resource="unlock-icon" />
				<placement x="%center_x%" y="%lock_y%" placement="4" />
			</object>

			<object type="slider">
				<text>向右滑动解锁</text>
				<action function="overlay"></action>
			</object>
		</page>

		<page name="languageselect">
			<background color="#000000A0" />

			<object type="text">
				<placement x="%center_x%" y="%row4_text_y%" placement="4" />
				<text>TWRP2 v%tw_version%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row5_text_y%" placement="4" />
				<text>发布日期: %property.ro.build.date%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row6_text_y%" placement="4" />
				<text>功能制作: Xuefer; 汉化: syhost</text>
			</object>

			<object type="button">
				<placement x="%center_x%" y="%row3_y%" placement="4" />
				<font resource="bigfont" color="%text_color%" />
				<text>中文</text>
				<actions>
					<action function="set">language_selected=1</action>
					<action function="set">tw_language=zh</action>
					<action function="overlay"></action>
				</actions>
			</object>

			<object type="button">
				<placement x="%center_x%" y="%row4_y%" placement="4" />
				<font resource="bigfont" color="%text_color%" />
				<text>English</text>
				<actions>
					<action function="set">language_selected=1</action>
					<action function="set">tw_language=en</action>
					<action function="reload"></action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%back_button_x%" y="%back_button_y%" placement="1" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<image resource="back_icon" />
				<actions>
					<action function="set">language_selected=1</action>
					<action function="overlay"></action>
				</actions>
			</object>

			<object type="action">
				<touch key="power" />
				<action function="overlay">lock</action>
			</object>

			<object type="action">
				<touch key="power+voldown" />
				<action function="screenshot" />
			</object>
		</page>

		<page name="filemanagerlist">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>文件浏览: 选择文件或者文件夹</text>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<text>%tw_file_location1%</text>
				<filter folders="1" files="1" />
				<path name="tw_file_location1" default="/" />
				<data name="tw_filename1" />
				<selection name="tw_selection1" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<actions>
					<action function="set">tw_fm_type=File</action>
					<action function="set">tw_fm_isfolder=0</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="action">
				<condition var1="tw_filename1" op="modified" />
				<actions>
					<action function="page">filemanageroptions</action>
				</actions>
			</object>

			<object type="button" style="mediumbutton">
				<placement x="%filemanager_select_x%" y="%filemanager_select_y%" />
				<text>选择</text>
				<actions>
					<action function="set">tw_filename1=tw_file_location1</action>
					<action function="set">tw_fm_isfolder=1</action>
					<action function="set">tw_fm_type=Folder</action>
					<action function="page">filemanageroptions</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanageroptions">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5"/>
				<text>已选择 %tw_fm_type%:</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5"/>
				<text>%tw_filename1%</text>
			</object>

			<object type="button">
				<condition var1="tw_fm_isfolder" var2="0" />
				<placement x="%col1_x%" y="%row2_y%" />
				<text>复制文件</text>
				<actions>
					<action function="set">tw_filemanager_command=cp</action>
					<action function="set">tw_fm_text1=复制</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_fm_isfolder" var2="1" />
				<placement x="%col1_x%" y="%row2_y%" />
				<text>复制文件夹</text>
				<actions>
					<action function="set">tw_filemanager_command=cd &quot;%tw_file_location1%&quot; &amp;&amp; cd .. &amp;&amp; cp -R</action>
					<action function="set">tw_fm_text1=复制中</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row2_y%" />
				<text>移动</text>
				<actions>
					<action function="set">tw_filemanager_command=mv</action>
					<action function="set">tw_fm_text1=移动中</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row3_y%" />
				<text>chmod 755</text>
				<actions>
					<action function="set">tw_filemanager_command=chmod 755</action>
					<action function="set">tw_fm_text1=chmod 755</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col2_x%" y="%row3_y%" />
				<text>chmod</text>
				<actions>
					<action function="set">tw_filemanager_rename=0000</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerchmod</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row4_y%" />
				<text>删除</text>
				<actions>
					<action function="set">tw_filemanager_command=rm -rf</action>
					<action function="set">tw_fm_text1=删除中</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_fm_isfolder" var2="0" />
				<placement x="%col2_x%" y="%row4_y%" />
				<text>重命名文件</text>
				<actions>
					<action function="set">tw_filemanager_rename=tw_selection1</action>
					<action function="set">tw_fm_text1=重命名中</action>
					<action function="set">tw_filemanager_command=mv</action>
					<action function="page">filemanagerrenamefile</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_fm_isfolder" var2="1" />
				<placement x="%col2_x%" y="%row4_y%" />
				<text>重命名文件夹</text>
				<actions>
					<action function="set">tw_filemanager_rename=tw_selection1</action>
					<action function="set">tw_fm_text1=重命名中</action>
					<action function="set">tw_filemanager_command=cd &quot;%tw_file_location1%&quot; &amp;&amp; cd .. &amp;&amp; mv</action>
					<action function="page">filemanagerrenamefolder</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanagerlist</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="choosedestinationfolder">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>选择目标文件夹并按选择按钮</text>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<text>%tw_file_location2%</text>
				<filter folders="1" files="0" />
				<path name="tw_file_location2" default="/" />
				<data name="tw_filename2" />
				<selection name="tw_selection2" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="button" style="mediumbutton">
				<placement x="%filemanager_select_x%" y="%filemanager_select_y%" />
				<text>选择</text>
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=%tw_file_location2%</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagerrenamefile">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>请输入新的 %tw_fm_type% 名字</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="1" maxlen="128" />
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=&quot;%tw_file_location1%/%tw_filemanager_rename%&quot;</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row2_y%" />
				<text>取消</text>
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagerrenamefolder">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>请输入新的 %tw_fm_type% 名字</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="1" maxlen="128" />
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=%tw_filemanager_rename%</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row2_y%" />
				<text>取消</text>
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagerchmod">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>请输入新的权限</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="3" maxlen="4" allow="0123456789" />
				<actions>
					<action function="set">tw_filemanager_command=chmod %tw_filemanager_rename%</action>
					<action function="set">tw_fm_text1=chmod %tw_filemanager_rename%</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row2_y%" />
				<text>取消</text>
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagerconfirm">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5"/>
				<text>%tw_fm_text1%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5"/>
				<text>%tw_filename1%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5"/>
				<text>%tw_fm_text2%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row4_text_y%" placement="5"/>
				<text>%tw_fm_text3%</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row10_text_y%" placement="5"/>
				<text>按返回按钮取消。</text>
			</object>

			<object type="slider">
				<action function="page">filemanageracction</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanageracction">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_fm_text1%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_back=filemanagerlist</action>
					<action function="set">tw_complete_text1=文件操作完成</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_complete_text1=文件操作完成</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_include_text3" var2="0" />
				<actions>
					<action function="cmd">%tw_filemanager_command% &quot;%tw_filename1%&quot;</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_include_text3" var2="1" />
				<actions>
					<action function="cmd">%tw_filemanager_command% &quot;%tw_filename1%&quot; &quot;%tw_fm_text3%&quot;</action>
				</actions>
			</object>
		</page>

		<page name="decrypt">
			<object type="template" name="header" />

			<object type="action">
				<condition var1="tw_crypto_pwtype" var2="2" />
				<action function="page">decrypt_pattern</action>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>请输入密码</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_crypto_display%</text>
				<data name="tw_crypto_password" mask="*" maskvariable="tw_crypto_display" />
				<restrict minlen="1" maxlen="254" />
				<actions>
					<action function="page">trydecrypt</action>
				</actions>
			</object>

			<object type="text">
				<condition var1="tw_password_fail" var2="1" />
				<font resource="font" color="%text_fail_color%"/>
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>密码错误，请重新输入!</text>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row2_y%" />
				<text>取消</text>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="template" name="footer" />
		</page>

		<page name="decrypt_pattern">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Please Enter Your Pattern</text>
			</object>

			<object type="text">
				<condition var1="tw_password_fail" var2="1" />
				<font resource="font" color="%text_fail_color%"/>
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>Pattern Failed, Please Try Again</text>
			</object>

			<object type="patternpassword">
				<placement x="%pattern_x%" y="%pattern_y%" w="%pattern_width%" h="%pattern_width%" />
				<dot color="%pattern_dot_color%" activecolor="%pattern_dot_color_active%" radius="%pattern_dot_radius%" />
				<line color="%pattern_line_color%" width="%pattern_line_width%" />
				<data name="tw_crypto_password"/>
				<action function="page">trydecrypt</action>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row4_y%" />
				<text>Cancel</text>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="trydecrypt">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>尝试用你的密码解密</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<action function="decrypt"></action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_password_fail=1</action>
					<action function="page">decrypt</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main</action>
				</actions>
			</object>
		</page>

		<page name="terminalfolder">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>浏览运行文件夹</text>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<text>%tw_terminal_location%</text>
				<filter folders="1" files="0" />
				<path name="tw_terminal_location" default="/" />
				<data name="tw_terminal" />
				<selection name="tw_terminal_selection" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="button" style="mediumbutton">
				<placement x="%filemanager_select_x%" y="%filemanager_select_y%" />
				<text>选择</text>
				<actions>
					<action function="page">terminalcommand</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="terminalcommand">
			<object type="template" name="header" />

			<object type="console">
				<placement x="%console_x%" y="0" w="%console_width%" h="%terminal_console_height%" />
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%terminal_text_y%" placement="0" />
				<text>运行路径: %tw_terminal_location%</text>
			</object>

			<object type="input">
				<condition var1="tw_terminal_state" var2="0" />
				<placement x="%col1_x%" y="%terminal_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<text>%tw_terminal_command%</text>
				<font resource="fixed" color="%text_color%" />
				<data name="tw_terminal_command" />
				<restrict minlen="1" />
				<action function="terminalcommand">%tw_terminal_command%</action>
			</object>

			<object type="button" style="mediumbutton">
				<condition var1="tw_terminal_state" var2="1" />
				<placement x="%filemanager_select_x%" y="%terminal_button_y%" />
				<text>KILL</text>
				<action function="killterminal"></action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">terminalfolder</action>
			</object>
		</page>

		<page name="sideload">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>ADB Sideload 线刷模式</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<text>清除 Dalvik 缓存。</text>
				<data variable="tw_wipe_dalvik" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row3_text_y%" />
				<text>清除 Cache 分区。</text>
				<data variable="tw_wipe_cache" />
			</object>

			<object type="slider">
				<text>滑动按钮开始 Sideload 线刷</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=adbsideload</action>
					<action function="set">tw_action_text1=ADB Sideload 线刷模式</action>
					<action function="set">tw_action_text2=使用方法: adb sideload 卡刷包文件名.zip</action>
					<action function="set">tw_complete_text1=ADB Sideload 线刷完成</action>
					<action function="set">tw_has_cancel=1</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="set">tw_cancel_action=adbsideloadcancel</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="fixperms">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>修复权限</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<text>注：固定的权限很少需要。</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row3_text_y%" />
				<text>同时修复 SELinux</text>
				<data variable="tw_fixperms_restorecon" />
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row4_text_y%" />
				<text>修复 SELinux 可能导致</text>
			</object>

			<object type="text">
				<placement x="%col1_x%" y="%row5_text_y%" />
				<text>您的设备无法正常启动</text>
			</object>

			<object type="slider">
				<text>滑动按钮修复权限</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=fixpermissions</action>
					<action function="set">tw_action_text1=权限修复中...</action>
					<action function="set">tw_complete_text1=权限修复完成</action>
					<action function="set">tw_slider_text=滑动按钮确认操作</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="installsu">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>是否安装 SuperSU?</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5"/>
				<text>系统看起来尚未 root。</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5"/>
				<text>是否安装 SuperSU?</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row4_text_y%" placement="5"/>
				<text>将对你的手机进行 root 操作。</text>
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row3_y%" />
				<text>不安装</text>
				<action function="set">tw_page_done=1</action>
			</object>

			<object type="slider">
				<text>滑动按钮安装</text>
				<actions>
					<action function="set">tw_action=installsu</action>
					<action function="set">tw_action_text1=安装 SuperSU 中</action>
					<action function="set">tw_action_text2=</action>
					<action function="page">singleaction_page</action>
				</actions>
			</object>
		</page>

		<page name="system_readonly">
			<object type="template" name="header" />

			<object type="text">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>保持 System 分区只读模式?</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>TWRP 可以不改变你的 system 分区</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>以此来让你使用官方升级时更简单.</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>保持只读模式会让 TWRP 无法阻止原厂 ROM 覆写 TWRP</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<text>并且无法提供 root 功能.</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row6_text_y%" placement="5" />
				<text>安装 Zip 卡刷包或执行 adb 操作依然</text>
			</object>

			<object type="text">
				<placement x="%center_x%" y="%row7_text_y%" placement="5" />
				<text>依然可以修改系统分区.</text>
			</object>

			<object type="checkbox">
				<condition var1="tw_is_encrypted" var2="0" />
				<placement x="%col1_x%" y="%row8_text_y%" />
				<text>重启时不再显示本信息</text>
				<data variable="tw_never_show_system_ro_page" />
			</object>

			<object type="button">
				<placement x="%col_center_x%" y="%row10_text_y%" />
				<text>保持只读模式</text>
				<actions>
					<action function="mountsystemtoggle">1</action>
					<action function="set">tw_page_done=1</action>
					<action function="page">%tw_back%</action>
				</actions>
			</object>

			<object type="slider">
				<text>滑动按钮允许修改</text>
				<actions>
					<action function="mountsystemtoggle">0</action>
					<action function="set">tw_page_done=1</action>
					<action function="page">%tw_back%</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>
	</pages>
</recovery>
